# ๐ต Flutter Music Player + Java Socket Server

ฺฉ ุงูพูฺฉุดู **ูพุฎุดโฺฉููุฏู ููุณู** ุจุง ูุฑูุดฺฏุงู ุขููุงู ู ูพุฑููุงู ฺฉุงุฑุจุฑุ ุณุงุฎุชู ุดุฏู ุจุง **Flutter (ฺฉูุงูุช)** ู **Java (ุณุฑูุฑ ุณูฺฉุช)**.  
ุงู README ุดุงูู ุชูุถุญุงุช ฺฉุงููุ ุฑุงูโุงูุฏุงุฒุ ู ุงุณฺฉุฑูโุดุงุชโูุง ุจุงฺฉูุช ุงุณุช ุชุง ุจุฑุง ุงุฑุงุฆู ู ฺฏุฑูุชู ยซููุฑู ุฒุจุงยป ุขูุงุฏู ุจุงุดุฏ โจ

---

## โจ ูฺฺฏโูุง

- ๐ถ ูพุฎุด ููุณู (Play/Pause/Next/Prevุ Loop/Shuffle)
- ๐ ูุฑูุดฺฏุงู ููุณู: ุฏุณุชูโุจูุฏโูุงุ ูุณุช ุขููฺฏโูุงุ ุฎุฑุฏ/ุฏุงูููุฏ ุดุจูโุณุงุฒโุดุฏู
- โญ ุงูุชุงุฒุฏู ู ๐ฌ ูุธุฑุงุช (ุจู ููุฑุงู ูุงฺฉ/ุฏุณโูุงฺฉ)
- ๐ค ุญุณุงุจ ฺฉุงุฑุจุฑ: ูุฑูุฏ/ุซุจุชโูุงูุ ุชุบุฑ ูพุฑููุงูุ ฺฉูโูพููุ ุงุดุชุฑุงฺฉ ูฺู
- ๐ ฺฉุชุงุจุฎุงูู ูุญู (ุขููฺฏโูุง ุฑู ุฏุณุชฺฏุงู) + ุนูุงููโููุฏโูุง + ุฏุงูููุฏูุง
- ๐ ููุงุด/ูุฑุงุด ูุชู ุชุฑุงูู (Lyrics)
- ๐ ูพุดุชุจุงู ุงุฒ **ุชู ุชุงุฑฺฉ ู ุฑูุดู**
- ๐ ุชุจูุบุงุช ุฏุฑููโุจุฑูุงููโุง (WebView)
- ๐ง ุงุฑุชุจุงุท ฺฉูุงูุช ู ุณุฑูุฑ ุงุฒ ุทุฑู **Socket + JSON**

---

## ๐งฑ ูุนูุงุฑ

```
Flutter Client
 โโ UI (Home, Shop, Player, Profile, Lyrics, Auth)
 โโ State: Provider (AppState, PlayerQueue, LibraryProvider)
 โโ Data: 
 โ   โโ MockServer (ุจุฑุง ุชุณุช ุขููุงู)
 โ   โโ SocketClient + SocketServerProvider (ุงุฑุชุจุงุท ุขููุงู)
 โโ Storage: SharedPreferences

Java Socket Server
 โโ ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ุขููฺฏโูุงุ ฺฉุงููุชโูุงุ ุงูุชุงุฒุฏู
 โโ ุฐุฎุฑูโุณุงุฒ ุฏุฑ ูุงู JSON (server-data.json)
 โโ ุงุฑุณุงู ุฑูุฏุงุฏูุง new_release ุจุฑุง ฺฉูุงูุชโูุง
 โโ ูพุฑูุชฺฉู ุณุงุฏู: JSON ุชฺฉโุฎุท ุจุง reqId / action / event
```

---

## ๐ ุฑุงูโุงูุฏุงุฒ

### ุณุฑูุฑ (Java)
1. ูุทูุฆู ุดูุฏ **Java 11+** ูุตุจ ุงุณุช.  
2. ฺฉุชุงุจุฎุงูู **Gson** ุฑุง ุฏุงูููุฏ ฺฉูุฏ (`gson-2.10.1.jar`).  
3. ฺฉุงููพุงู ู ุงุฌุฑุง:

```bash
javac -cp gson-2.10.1.jar SocketMusicServer.java
java -cp .:gson-2.10.1.jar SocketMusicServer
```

ุฎุฑูุฌ:  
```
Socket server listening on port 29168 ...
```

### ฺฉูุงูุช (Flutter)
1. Flutter 3.x ูุตุจ ุฏุงุดุชู ุจุงุดุฏ.  
2. ุฏุณุชูุฑูุง:
```bash
flutter pub get
flutter run
```

### ุงุชุตุงู
- Emulator ุงูุฏุฑูุฏ: `host = 10.0.2.2`, `port = 29168`  
- iOS Simulator: `host = 127.0.0.1`, `port = 29168`  
- ุฏุณุชฺฏุงู ูุงูุน: IP ุณุณุชู ุฎูุฏ ุฏุฑ LAN ุฑุง ุจฺฏุฐุงุฑุฏ.

---

## ๐ ูพุฑูุชฺฉู ุณูฺฉุช

- ุฏุฑุฎูุงุณุช ููููู:
```json
{"reqId":"123","action":"login","data":{"userOrEmail":"demo","password":"123"}}
```
- ูพุงุณุฎ ููููู:
```json
{"reqId":"123","ok":true,"result":{"token":"...","user":{"id":"1","username":"demo"}}}
```
- ุฑูุฏุงุฏ (Broadcast):
```json
{"event":"new_release","song":{"title":"New Track"}}
```

### ุงฺฉุดูโูุง ูพุดุชุจุงูโุดุฏู
- Auth: `signup`, `login`, `me`, `updateProfile`  
- Wallet/Subscription: `addCredit`, `subscription`  
- Songs: `categories`, `songs`, `purchase`, `rate`, `comments`, `addComment`, `likeComment`

---

## ๐ธ ุงุณฺฉุฑูโุดุงุชโูุง

### ฺฉุชุงุจุฎุงูู ู ุฎุงูู
![Home](screenshots/home.png)

### ูุฑูุดฺฏุงู ู ุฏุณุชูโุจูุฏโูุง
![Shop](screenshots/shop.png)
![Categories](screenshots/categories.png)

### ูุณุช ุขููฺฏโูุง
![Songs List](screenshots/songs_list.png)

### ุฌุฒุฆุงุช ุขููฺฏ + ุงูุชุงุฒุฏู + ูุธุฑุงุช
![Song Detail](screenshots/song_detail.png)
![Rating & Comments](screenshots/rating_comments.png)

### ูพุฎุดโฺฉููุฏู ููุณู
![Player](screenshots/player.png)

### ูพุฑููุงู (ุชู ุชุงุฑฺฉ ู ุฑูุดู)
![Profile Dark](screenshots/profile_dark.png)
![Profile Light](screenshots/profile_light.png)

---

## ๐งช ุชุณุช ุณุฑุน (Demo Scenario)

1. ุงุฌุฑุง ุณุฑูุฑ ุฌุงูุง (ูพูุฑุช 29168).  
2. ุฏุฑ ุงูพ Flutter:
   - ุซุจุชโูุงู/ูุฑูุฏ  
   - ุฑูุชู ุจู ูุฑูุดฺฏุงู โ ุงูุชุฎุงุจ ุฏุณุชูโุจูุฏ โ ูุดุงูุฏู ุขููฺฏโูุง  
   - ุงูุชุงุฒุฏูุ ุงูุฒูุฏู ูุธุฑุ ูุงฺฉ/ุฏุณโูุงฺฉ  
   - ุฎุฑุฏ/ุฏุงูููุฏ ุดุจูโุณุงุฒโุดุฏู  
3. ุชุบุฑ ุชู (ุฑูุดู/ุชุงุฑฺฉ) ุฏุฑ ูพุฑููุงู.  
4. ุฏุฑุงูุช ุฑูุฏุงุฏ **new_release** ุจูโุตูุฑุช ุงุนูุงู/ุงุณูฺฉโุจุงุฑ.

---

## ๐งฏ ุฎุทุงูุง ุฑุงุฌ

- โ **ุงุชุตุงู ุจุฑูุฑุงุฑ ููโุดูุฏ** โ ุขุฏุฑุณ IP ู ูพูุฑุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ (`10.0.2.2` ุจุฑุง Emulator).  
- โ **ูุฌูุฒ ุฏุณุชุฑุณ ูุงู/ุงูุชุฑูุช** โ `AndroidManifest.xml` ู `Info.plist` ุฑุง ุจุฑุฑุณ ฺฉูุฏ.  
- โ **Token ูุงูุนุชุจุฑ** โ ูพุณ ุงุฒ login ููุฏุงุฑ `token` ุฑุง ุฏุฑ ฺฉูุงูุช ุฐุฎุฑู ฺฉูุฏ.

---

## โ ฺฺฉโูุณุช ยซููุฑู ุฒุจุงยป

- [x] ุชูุถุญุงุช ฺฉุงูู ูพุฑูฺู  
- [x] ุฏุณุชูุฑุงูุนูู ูุตุจ ู ุฑุงูโุงูุฏุงุฒ  
- [x] ุงุณฺฉุฑูโุดุงุชโูุง ูุงุถุญ ุงุฒ ุจุฎุดโูุง ฺฉูุฏ  
- [x] ุชูุถุญ ูพุฑูุชฺฉู ู ุงฺฉุดูโูุง ุณูฺฉุช  
- [x] ุณูุงุฑู ุชุณุช End-to-End  
- [x] ูฺฉุงุช ุฑูุน ุฎุทุง  

---

## ๐ ูุงุณูุณ
ุงู ูพุฑูฺู ุจุฑุง ุงูุฏุงู ุขููุฒุด ุณุงุฎุชู ุดุฏู ุงุณุช. ุฏุฑ ุตูุฑุช ุงูุชุดุงุฑ ุนูููุ ฺฉ ูุฌูุฒ ูุชูโุจุงุฒ (MIT/Apache-2.0/...) ุงุถุงูู ฺฉูุฏ.
